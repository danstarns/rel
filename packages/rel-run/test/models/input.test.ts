import Rel, { testServer } from "../../src"

describe("#input", () => {
  const server = (schema) => {
    return testServer({ log: true })
      .schema(schema)
      .endpoints(
        Rel.query("Placeholder", Rel.string()).resolver(() => {
          return "HI"
        })
      )
      .start()
  }

  it("should only have the fields defined, nothing autogenerated", async () => {
    const { typeDefs } = await server({
      BookInput: Rel.input({ name: Rel.string() }),
    })

    expect(typeDefs).not.toMatch(`output`)
    expect(typeDefs).toMatch(`input BookInput {
  name: String
}
`)
  })
})
